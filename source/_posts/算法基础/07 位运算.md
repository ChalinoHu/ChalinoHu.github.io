---
title: 07 位运算
date: 2022-05-27 21:39:13
tags: 算法基础
---



# 位运算

常用的两种操作

#### 1、n的二进制形式中， 第k位是几

第一步：先把n移k位,   n >> k

第二步：看移动后最后一位是几   (n >> k) & 1



```c++
#include <iosream>

using namespace std;

int main(){
    int n = 10;
    
    //将十进制的数字转换为二进制
    for(int i = 3; i >= 0; i--){
        cout << ((n >> i) & 1);
    }
    return 0;
}
```

#### 2、`lowbit(x)`，返回x的最后一位以1开始的部分数

若x = 10<u>10</u>，则返回最后以1开始的部分 10

若x = 10<u>1000</u>，则返回1000

核心操作：`x & -x`

-x = ~x + 1

整数的负数表现形式是正数取反后再加一，因为在编码中是按照补码来进行存储的。

举例：

![](/images/image/lowbit(x).png)

这种操作的作用呢是可以找出一个数的二进制表示行驶中所有1的个数。

### 例题

给定一个长度为 n 的数列，请你求出数列中每个数的二进制表示中 1 的个数。

##### 输入格式

第一行包含整数 n。

第二行包含 n 个整数，表示整个数列。

##### 输出格式

共一行，包含 n个整数，其中的第 i 个数表示数列中的第 i 个数的二进制表示中 1 的个数。

##### 数据范围

1≤n≤100000,
0≤数列中元素的值≤10^9

##### 输入样例：

```
5
1 2 3 4 5
```

##### 输出样例：

```
1 1 2 1 2
```

```c++
#include <iostream>
using namespace std;
int lowbit(int x){
    return x & (-x);
}
int main(){
	int n;
    cin >> n;
    
    while(n--){
        int x, res = 0;
        cin >> x;
        
        while(x) x-=lowbit(x),res++;
        
        cout << res << " ";
    }
    cout << endl;
    return 0;
}
```

